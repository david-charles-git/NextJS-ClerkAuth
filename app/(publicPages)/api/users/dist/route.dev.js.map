{"version":3,"sources":["route.js"],"names":["handler","req","res","method","users","error","Error","status","json","message","setHeader","end"],"mappings":";;;;;;;AAkBA;;AAlBA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAIA,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,gBACXD,GAAG,CAACE,MAAJ,KAAe,KADJ;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,0CAGkB,sBAHlB;;AAAA;AAAA;AAGLC,UAAAA,KAHK,QAGLA,KAHK;AAGEC,UAAAA,KAHF,QAGEA,KAHF;;AAAA,eAKTA,KALS;AAAA;AAAA;AAAA;;AAAA,gBAKI,IAAIC,KAAJ,CAAUD,KAAV,CALJ;;AAAA;AAAA,2CAONH,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEJ,YAAAA,KAAK,EAALA;AAAF,WAArB,CAPM;;AAAA;AAAA;AAAA;AAAA,2CAUNF,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEH,YAAAA,KAAK,EAAG,YAAMI;AAAhB,WAArB,CAVM;;AAAA;AAcfP,UAAAA,GAAG,CAACQ,SAAJ,CAAc,OAAd,EAAuB,CAAC,KAAD,CAAvB;AACAR,UAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX,EAAgBI,GAAhB,kBAA8BV,GAAG,CAACE,MAAlC;;AAfe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;eAkBeH,O","sourcesContent":["// import { NextApiRequest, NextApiResponse } from 'next';\r\n\r\n// const handler = async (req: NextApiRequest, res: NextApiResponse) => {\r\n//   const data = await fetch('http://localhost:3000/api/users');\r\n//   const json = await data.json();\r\n\r\n//   res.json(json);\r\n// };\r\n// export { handler }\r\n\r\n// export async function GET(request: Request) {\r\n//   // const data = await fetch('http://localhost:3000/api/users');\r\n//   // const json = await data.json();\r\n//   const response : Response = new Response(\"Hello\");\r\n\r\n//   return response\r\n// }\r\n\r\nimport { getUsers } from \"@/lib/mongo/users\";\r\n\r\nconst handler = async (req, res) => {\r\n\tif (req.method === \"GET\") {\r\n\t\ttry {\r\n\t\t\tconst { users, error } = await getUsers();\r\n\r\n\t\t\tif (error) throw new Error(error);\r\n\r\n\t\t\treturn res.status(200).json({ users });\r\n\r\n\t\t} catch(error) {\r\n\t\t\treturn res.status(500).json({ error : error.message })\r\n\t\t}\r\n\t}\r\n\r\n\tres.setHeader(\"Allow\", [\"GET\"]);\r\n\tres.status(425).end(`Method ${req.method} is not allowed`);\r\n}\r\n\r\nexport default handler;"],"file":"route.dev.js"}